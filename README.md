# Асинхронный API для кинотеатра
## Инструкция по тестированию
Выполните команду
```
docker-compose -f tests/functional/docker-compose.tests.yml up --build -d
```
## Инструкция по запуску
1. Создайте файлы `.env` и `.env.db` и заполните их по аналогии с `.env.example` и `.env.db.example`.
2. Выполните команду
```
docker-compose up -d --build
```
или, если у вас MacOS
```
docker-compose -f docker-compose.mac.yml up -d --build
```
Чтобы остановить контейнер и удалить volumes выполните команду
```
docker-compose down -v
```
или
```
docker-compose -f docker-compose.mac.yml down
```
Сервис доступен по адресу: 
- swagger: http://localhost/api/openapi
- kibana: http://localhost


Описание результата:
1. Напишите функциональные тесты в соответствии с приведённой в уроке структурой папок.
2. Напишите docker-compose-файл для запуска API, Elasticsearch, Redis и тестов.
3. Обязательно сделайте waiter для Elasticsearch и Redis.
4. Тесты должны быть написаны с использованием библиотек pytest и aiohttp.
5. Напишите функциональные тесты для метода  /search:
- все граничные случаи по валидации данных;
- вывести только N записей;
- поиск записи или записей по фразе;
- поиск с учётом кеша в Redis.
6. Напишите функциональные тесты для метода  /film:
- все граничные случаи по валидации данных;
- поиск конкретного фильма;
- вывести все фильмы;
- поиск с учётом кеша в Redis.
7. Напишите функциональные тесты для метода  /person:
- все граничные случаи по валидации данных;
- поиск конкретного человека;
- поиск всех фильмов с участием человека;
- вывести всех людей;
- поиск с учётом кеша в Redis.

8.Напишите функциональные тесты для метода  /genre:
- все граничные случаи по валидации данных;
- поиск конкретного жанра;
- вывести все жанры;
- поиск с учётом кеша в Redis.
